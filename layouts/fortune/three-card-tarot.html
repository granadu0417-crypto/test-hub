{{ define "head" }}
<link rel="stylesheet" href="/css/fortune.css?v=20260102">
<style>
    body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
        background: linear-gradient(180deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
        min-height: 100vh;
    }

    /* ì¹´ë“œ ì„ íƒ í™”ë©´ */
    .tarot-selection-container {
        max-width: 1000px;
        margin: 60px auto;
        padding: 60px 40px;
        text-align: center;
    }

    .tarot-title {
        font-size: 2.5rem;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 16px;
        font-weight: 900;
    }

    .tarot-subtitle {
        color: #cbd5e1;
        font-size: 1.15rem;
        margin-bottom: 24px;
        line-height: 1.8;
    }

    .tarot-instruction {
        color: #fbbf24;
        font-size: 1.3rem;
        margin-bottom: 32px;
        font-weight: 700;
    }

    .tarot-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 20px;
        max-width: 900px;
        margin: 0 auto 40px;
    }

    .tarot-card {
        aspect-ratio: 2/3;
        background: linear-gradient(135deg, #312e81, #1e1b4b);
        border: 2px solid rgba(251, 191, 36, 0.3);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .tarot-card::before {
        content: 'ğŸƒ';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 3rem;
        opacity: 0.5;
    }

    .tarot-card::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), transparent);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .tarot-card:hover {
        transform: translateY(-10px);
        border-color: #fbbf24;
        box-shadow: 0 10px 30px rgba(251, 191, 36, 0.3);
    }

    .tarot-card:hover::after {
        opacity: 1;
    }

    .tarot-card.selected {
        border-color: #fbbf24;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        pointer-events: none;
    }

    .tarot-card.selected::before {
        content: 'âœ¨';
        opacity: 1;
    }

    .tarot-card.disabled {
        opacity: 0.3;
        pointer-events: none;
    }

    /* ê²°ê³¼ í™”ë©´ */
    .tarot-result-container {
        max-width: 1000px;
        margin: 60px auto;
        padding: 60px 40px;
        background: linear-gradient(135deg, rgba(30, 27, 75, 0.9), rgba(49, 46, 129, 0.9));
        border-radius: 32px;
        box-shadow: 0 20px 60px rgba(30, 27, 75, 0.4);
        border: 2px solid rgba(251, 191, 36, 0.3);
    }

    .three-cards-display {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
        margin-bottom: 50px;
    }

    .card-position {
        text-align: center;
    }

    .card-position-label {
        font-size: 1.1rem;
        color: #fbbf24;
        font-weight: 700;
        margin-bottom: 16px;
    }

    .card-display {
        background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1));
        border: 2px solid rgba(251, 191, 36, 0.3);
        border-radius: 20px;
        padding: 30px 20px;
    }

    .card-icon {
        font-size: 4rem;
        margin-bottom: 12px;
        filter: drop-shadow(0 4px 12px rgba(251, 191, 36, 0.4));
    }

    .card-name {
        font-size: 1.4rem;
        color: #fbbf24;
        font-weight: 800;
        margin-bottom: 8px;
    }

    .card-keyword {
        font-size: 0.95rem;
        color: #cbd5e1;
        padding: 6px 16px;
        background: rgba(251, 191, 36, 0.1);
        border-radius: 20px;
        display: inline-block;
        margin-bottom: 16px;
    }

    .card-meaning {
        font-size: 1rem;
        color: #e2e8f0;
        line-height: 1.7;
    }

    .overall-reading {
        background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.15));
        border: 2px solid rgba(251, 191, 36, 0.4);
        border-radius: 24px;
        padding: 40px;
        margin-top: 40px;
    }

    .overall-title {
        font-size: 1.8rem;
        color: #fbbf24;
        font-weight: 800;
        margin-bottom: 24px;
        text-align: center;
    }

    .overall-content {
        font-size: 1.1rem;
        color: #e2e8f0;
        line-height: 1.9;
        text-align: center;
    }

    @media (max-width: 768px) {
        .three-cards-display {
            grid-template-columns: 1fr;
            gap: 24px;
        }

        .tarot-title {
            font-size: 2rem;
        }

        .tarot-result-container {
            padding: 40px 20px;
        }

        .overall-reading {
            padding: 30px 20px;
        }
    }
</style>
{{ end }}

{{ define "main" }}
<div class="fortune-page" style="position: relative; z-index: 1; padding-bottom: 80px;">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
        <!-- ì„ íƒ ì„¹ì…˜ -->
        <div id="selectionSection" class="tarot-selection-container">
            <h2 class="tarot-title">ğŸ´ ì“°ë¦¬ì¹´ë“œ íƒ€ë¡œ</h2>
            <p class="tarot-subtitle">
                ê³¼ê±° Â· í˜„ì¬ Â· ë¯¸ë˜ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”<br>
                3ì¥ì˜ ì¹´ë“œê°€ ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì¤ë‹ˆë‹¤ âœ¨
            </p>
            <div class="tarot-instruction">
                ğŸ“Œ ë§ˆìŒì„ ì§‘ì¤‘í•˜ê³  ì¹´ë“œ 3ì¥ì„ ì„ íƒí•˜ì„¸ìš” (<span id="selectedCount">0</span>/3)
            </div>

            <div class="tarot-cards-grid" id="tarotCards">
                <!-- 22ì¥ì˜ ì¹´ë“œê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>

            <div style="color: #94a3b8; font-size: 0.95rem; margin-top: 30px;">
                ğŸ’¡ ì²« ë²ˆì§¸ëŠ” ê³¼ê±°, ë‘ ë²ˆì§¸ëŠ” í˜„ì¬, ì„¸ ë²ˆì§¸ëŠ” ë¯¸ë˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤
            </div>
        </div>

        <!-- ê²°ê³¼ ì„¹ì…˜ -->
        <div id="resultSection" class="tarot-result-container" style="display: none;">
            <!-- 3ì¥ì˜ ì¹´ë“œ í‘œì‹œ -->
            <div class="three-cards-display">
                <!-- ê³¼ê±° -->
                <div class="card-position">
                    <div class="card-position-label">ğŸ•°ï¸ ê³¼ê±°</div>
                    <div class="card-display">
                        <div id="pastIcon" class="card-icon"></div>
                        <div id="pastName" class="card-name"></div>
                        <div id="pastKeyword" class="card-keyword"></div>
                        <div id="pastMeaning" class="card-meaning"></div>
                    </div>
                </div>

                <!-- í˜„ì¬ -->
                <div class="card-position">
                    <div class="card-position-label">â­ í˜„ì¬</div>
                    <div class="card-display">
                        <div id="presentIcon" class="card-icon"></div>
                        <div id="presentName" class="card-name"></div>
                        <div id="presentKeyword" class="card-keyword"></div>
                        <div id="presentMeaning" class="card-meaning"></div>
                    </div>
                </div>

                <!-- ë¯¸ë˜ -->
                <div class="card-position">
                    <div class="card-position-label">ğŸ”® ë¯¸ë˜</div>
                    <div class="card-display">
                        <div id="futureIcon" class="card-icon"></div>
                        <div id="futureName" class="card-name"></div>
                        <div id="futureKeyword" class="card-keyword"></div>
                        <div id="futureMeaning" class="card-meaning"></div>
                    </div>
                </div>
            </div>

            <!-- ì¢…í•© í•´ì„ -->
            <div class="overall-reading">
                <div class="overall-title">âœ¨ ì¢…í•© í•´ì„</div>
                <div id="overallReading" class="overall-content"></div>
            </div>

            <!-- ê³µìœ  ë° ë‹¤ì‹œí•˜ê¸° -->
            <div style="margin-top: 50px; text-align: center; display: flex; justify-content: center; gap: 16px; flex-wrap: wrap;">
                <button onclick="location.reload()" style="padding: 16px 40px; background: transparent; color: #fbbf24; border: 2px solid #fbbf24; border-radius: 50px; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease;">
                    ğŸ”„ ë‹¤ì‹œ ë³´ê¸°
                </button>
                <button onclick="shareResult()" style="padding: 16px 40px; background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #1e1b4b; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 16px rgba(251, 191, 36, 0.3);">
                    ğŸ’¬ ê²°ê³¼ ê³µìœ í•˜ê¸°
                </button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
    // íƒ€ë¡œ ì¹´ë“œ ë°ì´í„° (Major Arcana 22ì¥)
    const tarotCards = [
        { id: 0, name: 'ë°”ë³´', nameEn: 'The Fool', icon: 'ğŸƒ', keyword: 'ìƒˆë¡œìš´ ì‹œì‘, ìˆœìˆ˜í•¨, ììœ ', meaning: 'ìƒˆë¡œìš´ ì—¬í–‰ì´ ì‹œì‘ë©ë‹ˆë‹¤. ë‘ë ¤ì›€ ì—†ì´ ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ì„¸ìš”.' },
        { id: 1, name: 'ë§ˆë²•ì‚¬', nameEn: 'The Magician', icon: 'ğŸ©', keyword: 'ì°½ì¡°ë ¥, ì˜ì§€, ëŠ¥ë ¥', meaning: 'ë‹¹ì‹ ì€ ì´ë¯¸ í•„ìš”í•œ ëª¨ë“  ê²ƒì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ëŠ¥ë ¥ì„ ë¯¿ìœ¼ì„¸ìš”.' },
        { id: 2, name: 'ì—¬ì‚¬ì œ', nameEn: 'The High Priestess', icon: 'ğŸŒ™', keyword: 'ì§ê´€, ì‹ ë¹„, ë‚´ë©´ì˜ ì§€í˜œ', meaning: 'ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ê·€ ê¸°ìš¸ì´ì„¸ìš”. ì§ê´€ì´ ë‹µì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤.' },
        { id: 3, name: 'ì—¬í™©ì œ', nameEn: 'The Empress', icon: 'ğŸ‘‘', keyword: 'í’ìš”, ì°½ì¡°ì„±, ì–‘ìœ¡', meaning: 'í’ìš”ë¡œìš´ ì‹œê¸°ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì•„ì´ë””ì–´ë¥¼ í˜„ì‹¤ë¡œ ë§Œë“œì„¸ìš”.' },
        { id: 4, name: 'í™©ì œ', nameEn: 'The Emperor', icon: 'ğŸ›ï¸', keyword: 'ê¶Œìœ„, êµ¬ì¡°, í†µì œë ¥', meaning: 'ì•ˆì •ê³¼ ì§ˆì„œë¥¼ ë§Œë“¤ ë•Œì…ë‹ˆë‹¤. ë¦¬ë”ì‹­ì„ ë°œíœ˜í•˜ì„¸ìš”.' },
        { id: 5, name: 'êµí™©', nameEn: 'The Hierophant', icon: 'ğŸ“¿', keyword: 'ì „í†µ, ê°€ë¥´ì¹¨, ì˜ì  ì§€ë„', meaning: 'ì „í†µì ì¸ ë°©ë²•ì´ ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë©˜í† ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.' },
        { id: 6, name: 'ì—°ì¸', nameEn: 'The Lovers', icon: 'ğŸ’•', keyword: 'ì‚¬ë‘, ì„ íƒ, ì¡°í™”', meaning: 'ì¤‘ìš”í•œ ì„ íƒì˜ ìˆœê°„ì…ë‹ˆë‹¤. ë§ˆìŒì´ ì´ë„ëŠ” ëŒ€ë¡œ ë”°ë¥´ì„¸ìš”.' },
        { id: 7, name: 'ì „ì°¨', nameEn: 'The Chariot', icon: 'ğŸ‡', keyword: 'ì˜ì§€ë ¥, ìŠ¹ë¦¬, ì „ì§„', meaning: 'ê°•í•œ ì˜ì§€ë¡œ ëª©í‘œë¥¼ í–¥í•´ ë‚˜ì•„ê°€ì„¸ìš”. ìŠ¹ë¦¬ê°€ ê°€ê¹Œì´ ìˆìŠµë‹ˆë‹¤.' },
        { id: 8, name: 'í˜', nameEn: 'Strength', icon: 'ğŸ¦', keyword: 'ìš©ê¸°, ì¸ë‚´, ë‚´ë©´ì˜ í˜', meaning: 'ë¶€ë“œëŸ¬ìš´ í˜ì´ ê°€ì¥ ê°•í•©ë‹ˆë‹¤. ì¸ë‚´ì‹¬ì„ ê°€ì§€ì„¸ìš”.' },
        { id: 9, name: 'ì€ë‘”ì', nameEn: 'The Hermit', icon: 'ğŸ•¯ï¸', keyword: 'ë‚´ë©´ íƒêµ¬, ê³ ë…, ì„±ì°°', meaning: 'í™€ë¡œ ìˆëŠ” ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤. ìì‹ ì„ ëŒì•„ë³´ì„¸ìš”.' },
        { id: 10, name: 'ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´', nameEn: 'Wheel of Fortune', icon: 'â˜¸ï¸', keyword: 'ë³€í™”, ìš´ëª…, ìˆœí™˜', meaning: 'ë³€í™”ì˜ ì‹œê¸°ì…ë‹ˆë‹¤. íë¦„ì„ ë°›ì•„ë“¤ì´ì„¸ìš”.' },
        { id: 11, name: 'ì •ì˜', nameEn: 'Justice', icon: 'âš–ï¸', keyword: 'ê³µì •í•¨, ì§„ì‹¤, ê· í˜•', meaning: 'ì§„ì‹¤ì´ ë°í˜€ì§ˆ ê²ƒì…ë‹ˆë‹¤. ê³µì •í•œ ê²°ê³¼ë¥¼ ê¸°ëŒ€í•˜ì„¸ìš”.' },
        { id: 12, name: 'ë§¤ë‹¬ë¦° ì‚¬ëŒ', nameEn: 'The Hanged Man', icon: 'ğŸ™ƒ', keyword: 'í¬ìƒ, ê´€ì ì˜ ì „í™˜, ê¸°ë‹¤ë¦¼', meaning: 'ë‹¤ë¥¸ ê´€ì ì—ì„œ ë°”ë¼ë³´ì„¸ìš”. ê¸°ë‹¤ë¦¼ì´ í•„ìš”í•©ë‹ˆë‹¤.' },
        { id: 13, name: 'ì£½ìŒ', nameEn: 'Death', icon: 'ğŸ¦‹', keyword: 'ë³€í™”, ëê³¼ ì‹œì‘, ì¬íƒ„ìƒ', meaning: 'ëì€ ìƒˆë¡œìš´ ì‹œì‘ì…ë‹ˆë‹¤. ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆì„¸ìš”.' },
        { id: 14, name: 'ì ˆì œ', nameEn: 'Temperance', icon: 'ğŸ¶', keyword: 'ê· í˜•, ì¡°í™”, ì¤‘ìš©', meaning: 'ê· í˜•ì„ ì°¾ìœ¼ì„¸ìš”. ê·¹ë‹¨ì„ í”¼í•˜ê³  ì¡°í™”ë¥¼ ì´ë£¨ì„¸ìš”.' },
        { id: 15, name: 'ì•…ë§ˆ', nameEn: 'The Devil', icon: 'ğŸ˜ˆ', keyword: 'ìœ í˜¹, ì†ë°•, ì§‘ì°©', meaning: 'ë¬´ì—‡ì´ ë‹¹ì‹ ì„ ë¶™ì¡ê³  ìˆë‚˜ìš”? ìŠ¤ìŠ¤ë¡œë¥¼ ììœ ë¡­ê²Œ í•˜ì„¸ìš”.' },
        { id: 16, name: 'íƒ‘', nameEn: 'The Tower', icon: 'ğŸ—¼', keyword: 'íŒŒê´´, ê³„ì‹œ, ê¸‰ê²©í•œ ë³€í™”', meaning: 'ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê¸°ì´ˆë¥¼ ë‹¤ì§ˆ ê¸°íšŒì…ë‹ˆë‹¤.' },
        { id: 17, name: 'ë³„', nameEn: 'The Star', icon: 'â­', keyword: 'í¬ë§, ì˜ê°, í‰ì˜¨', meaning: 'í¬ë§ì˜ ë¹›ì´ ë³´ì…ë‹ˆë‹¤. ê¿ˆì„ í–¥í•´ ë‚˜ì•„ê°€ì„¸ìš”.' },
        { id: 18, name: 'ë‹¬', nameEn: 'The Moon', icon: 'ğŸŒ™', keyword: 'í™˜ìƒ, ë¶ˆì•ˆ, ì ì¬ì˜ì‹', meaning: 'ë³´ì´ì§€ ì•ŠëŠ” ê²ƒì— ì£¼ì˜í•˜ì„¸ìš”. ì§ê´€ì„ ë¯¿ìœ¼ì„¸ìš”.' },
        { id: 19, name: 'íƒœì–‘', nameEn: 'The Sun', icon: 'â˜€ï¸', keyword: 'ê¸°ì¨, ì„±ê³µ, í™œë ¥', meaning: 'ë°ì€ ì‹œê¸°ê°€ ì˜µë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  ë¹›ë‚˜ì„¸ìš”.' },
        { id: 20, name: 'ì‹¬íŒ', nameEn: 'Judgement', icon: 'ğŸ“¯', keyword: 'ê°ì„±, ì¬ìƒ, íŒë‹¨', meaning: 'ê³¼ê±°ë¥¼ ì •ë¦¬í•˜ê³  ìƒˆë¡­ê²Œ ì‹œì‘í•  ë•Œì…ë‹ˆë‹¤.' },
        { id: 21, name: 'ì„¸ê³„', nameEn: 'The World', icon: 'ğŸŒ', keyword: 'ì™„ì„±, ì„±ì·¨, ì´ì²´ì„±', meaning: 'ì—¬ì •ì´ ì™„ì„±ë©ë‹ˆë‹¤. ì„±ì·¨ë¥¼ ì¶•í•˜í•˜ì„¸ìš”.' }
    ];

    let selectedCards = [];
    let selectedCount = 0;

    // ì¹´ë“œ ê·¸ë¦¬ë“œ ìƒì„±
    function createCardGrid() {
        const grid = document.getElementById('tarotCards');
        for (let i = 0; i < 22; i++) {
            const card = document.createElement('div');
            card.className = 'tarot-card';
            card.setAttribute('data-index', i);
            card.onclick = () => selectCard(i);
            grid.appendChild(card);
        }
    }

    // ì¹´ë“œ ì„ íƒ
    function selectCard(index) {
        if (selectedCount >= 3) return;

        const card = document.querySelector(`[data-index="${index}"]`);
        card.classList.add('selected');

        selectedCards.push(index);
        selectedCount++;
        document.getElementById('selectedCount').textContent = selectedCount;

        if (selectedCount === 3) {
            // ëª¨ë“  ì¹´ë“œ ë¹„í™œì„±í™”
            document.querySelectorAll('.tarot-card').forEach(c => {
                if (!c.classList.contains('selected')) {
                    c.classList.add('disabled');
                }
            });

            // ê²°ê³¼ í‘œì‹œ
            setTimeout(() => {
                showResult();
            }, 800);
        }
    }

    // ê²°ê³¼ í‘œì‹œ
    function showResult() {
        const [pastIdx, presentIdx, futureIdx] = selectedCards;

        const pastCard = tarotCards[pastIdx];
        const presentCard = tarotCards[presentIdx];
        const futureCard = tarotCards[futureIdx];

        // ê³¼ê±°
        document.getElementById('pastIcon').textContent = pastCard.icon;
        document.getElementById('pastName').textContent = pastCard.name;
        document.getElementById('pastKeyword').textContent = pastCard.keyword;
        document.getElementById('pastMeaning').textContent = pastCard.meaning;

        // í˜„ì¬
        document.getElementById('presentIcon').textContent = presentCard.icon;
        document.getElementById('presentName').textContent = presentCard.name;
        document.getElementById('presentKeyword').textContent = presentCard.keyword;
        document.getElementById('presentMeaning').textContent = presentCard.meaning;

        // ë¯¸ë˜
        document.getElementById('futureIcon').textContent = futureCard.icon;
        document.getElementById('futureName').textContent = futureCard.name;
        document.getElementById('futureKeyword').textContent = futureCard.keyword;
        document.getElementById('futureMeaning').textContent = futureCard.meaning;

        // ì¢…í•© í•´ì„
        const overallReading = generateOverallReading(pastCard, presentCard, futureCard);
        document.getElementById('overallReading').textContent = overallReading;

        // í™”ë©´ ì „í™˜
        document.getElementById('selectionSection').style.display = 'none';
        document.getElementById('resultSection').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });

        // GA4 ì´ë²¤íŠ¸
        if (typeof gtag !== 'undefined') {
            gtag('event', 'three_card_tarot_complete', {
                past_card: pastCard.name,
                present_card: presentCard.name,
                future_card: futureCard.name
            });
        }
    }

    // ì¢…í•© í•´ì„ ìƒì„±
    function generateOverallReading(past, present, future) {
        const readings = [
            `${past.name}ì—ì„œ ${present.name}ë¡œ, ê·¸ë¦¬ê³  ${future.name}ë¡œ ì´ì–´ì§€ëŠ” ì—¬ì •ì´ ë³´ì…ë‹ˆë‹¤. ê³¼ê±°ì˜ ê²½í—˜ì´ í˜„ì¬ë¥¼ ë§Œë“¤ì—ˆê³ , ì§€ê¸ˆì˜ ì„ íƒì´ ë¯¸ë˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.`,
            `ê³¼ê±° ${past.name}ì˜ ì—ë„ˆì§€ê°€ í˜„ì¬ ${present.name}ì˜ ìƒí™©ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ${future.name}ê°€ ë§í•˜ëŠ” ë¯¸ë˜ë¥¼ í–¥í•´ ë‚˜ì•„ê°€ì„¸ìš”.`,
            `${past.name}ì˜ êµí›ˆì„ ë°”íƒ•ìœ¼ë¡œ ${present.name}ì˜ ìˆœê°„ì„ ì‚´ì•„ê°€ê³  ìˆìŠµë‹ˆë‹¤. ${future.name}ì˜ ë©”ì‹œì§€ë¥¼ ë§ˆìŒì— ìƒˆê¸°ì„¸ìš”.`,
            `ê³¼ê±°ì˜ ${past.keyword.split(',')[0]}ì´(ê°€) í˜„ì¬ì˜ ${present.keyword.split(',')[0]}(ì„)ë¥¼ ë§Œë“¤ì—ˆê³ , ë¯¸ë˜ì—ëŠ” ${future.keyword.split(',')[0]}(ì´)ê°€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.`
        ];

        return readings[Math.floor(Math.random() * readings.length)];
    }

    // ê³µìœ í•˜ê¸°
    function shareResult() {
        const text = `ì“°ë¦¬ì¹´ë“œ íƒ€ë¡œ ê²°ê³¼:\nê³¼ê±°: ${tarotCards[selectedCards[0]].name}\ní˜„ì¬: ${tarotCards[selectedCards[1]].name}\në¯¸ë˜: ${tarotCards[selectedCards[2]].name}\n\n${window.location.href}`;

        if (navigator.share) {
            navigator.share({
                title: 'ì“°ë¦¬ì¹´ë“œ íƒ€ë¡œ ìš´ì„¸',
                text: text
            });
        } else {
            navigator.clipboard.writeText(text);
            alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }
    }

    // ì´ˆê¸°í™”
    createCardGrid();
</script>
{{ end }}
